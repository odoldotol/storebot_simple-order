# menu 의 item 과 order 의 item 의 관계

order 의 item 들은 menu 의 item 과 관계가 있음.
그러나, 주문서는 만들어 질 당시의 item 의 스냅샷을 가져야함. order 는 menu 의 수정에 영향을 받으면 안됨.

RDB 상 외래키 관계 없이 id 만 가지면 어떨까?





# 주문서 세션과 메뉴 캐시의 관계

주문서 세션에 주문서를 구성중에
유저가 메뉴를 다시 읽으면 (주문서를 구성해두고 다시 스토어를 검색하고 메뉴를 읽어야함)
(그리고 그 사이에 메뉴캐시가 업데이트 되었다면)
구성중인 주문서 세션은 이전 메뉴를 보고 구성한 것이고
새로 추가하는 메뉴는 새로운 메뉴를 보고 구성될 것임.
이런 상황에서도 문제가 없어야함.
아이템의 가격이나 이름, 아이템옵션의 가격이나 이름을 업데이트하는 경우에 소비자 입장에서 좀 어색한 상황을 마주할 수 있을것 같긴 함.

주문서 세션의 ttl 을 너무 짧지는 않지만 충분히 짧게 설정해두자.
30분? 1시간?