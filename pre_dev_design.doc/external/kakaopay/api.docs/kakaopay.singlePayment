https://developers.kakaopay.com/docs/payment/online/single-payment

# 준비요청

## Request Syntax
POST /online/v1/payment/ready HTTP/1.1
Host: open-api.kakaopay.com
Authorization: SECRET_KEY ${SECRET_KEY}
Content-Type: application/json

## Request Body Payload
https://developers.kakaopay.com/docs/payment/online/single-payment#payment-ready-request-body
필수(옵션 프롭은 위 링크에서 확인)
```json
{
  "cid": "TC0ONETIME",
  "partner_order_id": "partner_order_id",
  "partner_user_id": "partner_user_id",
  "item_name": "초코송이",
  "quantity": 1,
  "total_amount": 1000,
  "tax_free_amount": 0,
  "approval_url": "https://example.com/approval",
  "cancel_url": "https://example.com/cancel",
  "fail_url": "https://example.com/fail"
}
```

## Response Body Payload
https://developers.kakaopay.com/docs/payment/online/single-payment#payment-ready-response-body
```json
{
  "tid": "T12345678901234567890",
  "next_redirect_app_url": "https://kakao.com/redirect",
  "next_redirect_mobile_url": "https://kakao.com/redirect",
  "next_redirect_pc_url": "https://kakao.com/redirect",
  "android_app_scheme": "kakao${APP_KEY}://kakaopay",
  "ios_app_scheme": "kakao${APP_KEY}://kakaopay",
  "created_at": "2023-10-01T12:00:00Z"
}
```

# 결제요청 - 사용자 결제 수단 선택
redirect URL 에서 고객이 결제수단 선택후 인증까지 마치면 approval_url 로 리다이렉트 됨.
이떄 pg_token 을 함께 전달 (쿼리스트링|파라미터) - 문서마다 설명이 상이하여 직접 확인필요할듯
요청 취소 : cancel_url로 redirect
요청 유효 시간(15분) 경과 : fail_url로 redirect

# 결제승인

## Request Syntax
POST /online/v1/payment/approve HTTP/1.1
Host: open-api.kakaopay.com
Authorization: SECRET_KEY ${SECRET_KEY}
Content-Type: application/json

## Request Body Payload
https://developers.kakaopay.com/docs/payment/online/single-payment#payment-approve-request-body
필수(옵션 프롭은 위 링크에서 확인)
```json
{
  "cid": "TC0ONETIME",
  "tid": "T12345678901234567890",
  "partner_order_id": "partner_order_id",
  "partner_user_id": "partner_user_id",
  "pg_token": "pg_token"
}
```

## Response Body Payload
https://developers.kakaopay.com/docs/payment/online/single-payment#payment-approve-response-body





---


결제준비 이후 승인까지의 타임아웃은 있나? 얼마인가?
유저의 결제인증 타임아웃은 15분 인가?
동일 유저아이디로는 동시에 두가지 결제가 진행될 수 없을것 같은데 맞나?
동일 주문아이디로는 동시에 또는 첫번째 결제 승인 이후에 두분째 결제가 진행될 수 없을것 같은데 맞나?
결제준비 이후 결제준비 취소요청과 결제승인 이후 취소요청은 같은 API 이용하나?
approval_url 로 redirect 될때 pg_token 을 쿼리스트링으로 전달하는가? 파라미터로 전달하는가?
approval_url 로 redirect 되어 받은 요청에 대한 응답은 카카오페이 서버와 유저에서 어떤 영향을 미치나?
approval_url 로 redirect 가 4xx, 5xx 등 에러경우 카카오페이는 어떻게 처리하는가?